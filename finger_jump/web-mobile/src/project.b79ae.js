window.__require=function t(e,o,i){function r(s,c){if(!o[s]){if(!e[s]){var h=s.split("/");if(h=h[h.length-1],!e[h]){var l="function"==typeof __require&&__require;if(!c&&l)return l(h,!0);if(n)return n(h,!0);throw new Error("Cannot find module '"+s+"'")}}var p=o[s]={exports:{}};e[s][0].call(p.exports,function(t){return r(e[s][1][t]||t)},p,p.exports,t,e,o,i)}return o[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<i.length;s++)r(i[s]);return r}({Floor:[function(t,e,o){"use strict";cc._RF.push(e,"241fdWVvBlPl7ZPQSgSbZZE","Floor");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,s=n.ccclass,c=n.property,h=t("./Stair"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.view=null,e.player=null,e.stairBox=null,e._isLoad=!1,e}return i(e,t),e.prototype.onLoad=function(){this._model=cc.find("Game/Model").getComponent("Model"),this._stepX=this._model.getStepX(),this._stepY=this._model.getStepY(),this._originX=this.view.x,this._originY=this.view.y,this.lastX=0,this.lastY=0,this._blockQue=[],this._stairsQue=[],this._initPlatProm()},e.prototype.onStart=function(){this._isLoad||(this._removeAllPlatform(),this.lastY=0,this.lastX=0,this._blockQue.length=0,this._stairsQue.length=0,this.view.x=0,this.view.y=-318,this._initPlatProm())},e.prototype.onEnd=function(){this._isLoad=!1,this.view.stopAllActions()},e.prototype._initPlatProm=function(){for(var t,e=0;e<this._model.maxStairNum;e++)t=this._model.addNext(),this._addBlockPlatForm(-t),this._addNextPlatForm(t);this._sortPlatform(),this._isLoad=!0},e.prototype._addNextFloor=function(t){void 0===t&&(t=!0);var e=this._model.addNext();this._addBlockPlatForm(-e,!0),this._addNextPlatForm(e,!0),this._sortPlatform()},e.prototype._addNextPlatForm=function(t,e){void 0===e&&(e=!1);var o=this._model.createStair();o.zIndex=0,this.stairBox.addChild(o),this._stairsQue.push(o),this.lastX=Math.round(this.lastX+t*this._stepX),this.lastY=Math.round(this.lastY+this._stepY),e?(o.x=this.lastX,o.y=this.view.height-this.view.y,o.getComponent(h.default).drop(this.lastX,this.lastY)):(o.x=this.lastX,o.y=this.lastY)},e.prototype._addBlockPlatForm=function(t,e){void 0===e&&(e=!1);var o=this._model.getLastBlockDirection();if(0!=o){var i=this._model.createStair(!0);i.zIndex=0,this.stairBox.addChild(i),this._blockQue.push(i);var r=Math.round(this.lastX+t*this._stepX*o),n=Math.round(this.lastY+this._stepY*o);e?(i.x=r,i.y=this.view.height-this.view.y,i.getComponent(h.default).drop(r,n)):(i.x=r,i.y=n)}},e.prototype._sortPlatform=function(){for(var t=this._stairsQue.length,e=this._blockQue.length,o=0;o<t-1;o++)this._stairsQue[o].zIndex=t-o;for(var i=0;i<e-1;i++)this._blockQue[i].zIndex=t+e-i},e.prototype.move=function(t){this._model.removeFirst();var e=-t*this._stepX,o=-this._stepY;this.view.runAction(cc.moveBy(.6,cc.v2(e,o))),this._addNextFloor()},e.prototype.dropStair=function(){for(var t=.5*-this._stepY,e=0;this._stairsQue.length&&this._stairsQue[0].y+this.view.y<this._originY+t;){var o;(o=this._stairsQue.shift()).getComponent(h.default).fall(this._model.recycleStair.bind(this._model,o)),e++}for(;this._blockQue.length&&this._blockQue[0].y+this.view.y<this._originY+t;){(i=this._blockQue.shift()).getComponent(h.default).fall(this._model.recycleStair.bind(this._model,i))}if(e<=0&&(console.log("\u8d85\u65f6\u79fb\u9664"),this._model.removeFirst(),this._stairsQue.length))for((o=this._stairsQue.shift()).getComponent(h.default).fall(this._model.recycleStair.bind(this._model,o));this._blockQue.length&&this._blockQue[0].y<=o.y+10;){var i;(i=this._blockQue.shift()).getComponent(h.default).fall(this._model.recycleStair.bind(this._model,i))}},e.prototype._removeAllPlatform=function(){for(;this.stairBox.childrenCount;)this._model.recycleStair(this.stairBox.children[0]);this._stairsQue.length=0,this._blockQue.length=0},r([c(cc.Node)],e.prototype,"view",void 0),r([c(cc.Node)],e.prototype,"player",void 0),r([c(cc.Node)],e.prototype,"stairBox",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Stair":"Stair"}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"c6c09JQeH1EvpxMY8s/+t6F","Game");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var n,s=t("./Model"),c=t("./ui/Floor"),h=t("./ui/Player"),l=t("./ui/Leaves"),p=t("./ui/MenuPanel"),a=cc._decorator,u=a.ccclass,_=a.property;(function(t){t[t.LEFT=-1]="LEFT",t[t.RIGHT=1]="RIGHT"})(n=o.EDirection||(o.EDirection={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.model=null,e.view=null,e.leaves=null,e.floor=null,e.player=null,e.menu=null,e._isStart=!1,e._isInit=!1,e}return i(e,t),e.prototype.onLoad=function(){this._isInit=!0},e.prototype.onBtnStart=function(){this._onGameStart()},e.prototype._onGameStart=function(){if(!this._isInit){this._isInit=!0,this.player.onStart(),this.floor.onStart(),this.leaves.onStart();var t=this.model.getFirstDirection();console.log("jump:",t),this.player.move(t),this.floor.move(t)}this.menu.onStart(),this.view.on(cc.Node.EventType.TOUCH_END,this._onTouch,this)},e.prototype._onGameEnd=function(){this._isInit=!1,this._stopClock(),this.player.onEnd(),this.floor.onEnd(),this.model.reset(),this.menu.onGameEnd(),this.view.off(cc.Node.EventType.TOUCH_END,this._onTouch,this)},e.prototype._startClock=function(){this._isStart||(this._isStart=!0,this.schedule(this._onSchedule,.7))},e.prototype._stopClock=function(){this._isStart=!1,this.unschedule(this._onSchedule)},e.prototype._onSchedule=function(){this.floor.dropStair(),this.model.checkPlayerDrop()&&(this.player.fall(),this._onGameEnd())},e.prototype._onTouch=function(t){this._startClock(),t.getLocationX()<=this.view.width/2?this._onAction(n.LEFT):this._onAction(n.RIGHT)},e.prototype._onAction=function(t){this.model.checkDirection(t)?(this.player.move(t),this.floor.move(t),this.leaves.move(t)):(this.model.checkIsBlock()?this.player.move(t,!0):(this.player.move(t,!1,!0),this.floor.move(t),this.leaves.move(t)),this._onGameEnd())},e.prototype.start=function(){var t=this.model.getFirstDirection();this.player.move(t),this.floor.move(t)},r([_(s.default)],e.prototype,"model",void 0),r([_(cc.Node)],e.prototype,"view",void 0),r([_(l.default)],e.prototype,"leaves",void 0),r([_(c.default)],e.prototype,"floor",void 0),r([_(h.default)],e.prototype,"player",void 0),r([_(p.default)],e.prototype,"menu",void 0),e=r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./Model":"Model","./ui/Floor":"Floor","./ui/Leaves":"Leaves","./ui/MenuPanel":"MenuPanel","./ui/Player":"Player"}],Leaves:[function(t,e,o){"use strict";cc._RF.push(e,"fd037O1pNRIdrsmPEl84QmC","Leaves");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Model"),s=cc._decorator,c=s.ccclass,h=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.left_1=null,e.left_2=null,e.right_1=null,e.right_2=null,e}return i(e,t),e.prototype.onLoad=function(){this._setPos(),this._model=cc.find("Game/Model").getComponent(n.default),this._minLeftX=Math.round(this.left_1.x-this.left_1.width/3),this._maxLeftX=this.left_1.x,this._minRightX=this.right_1.x,this._maxRightX=Math.round(this.right_1.x+this.right_1.width/2)},e.prototype.onStart=function(){this.left_1.x=this._maxLeftX,this.left_2.x=this._maxLeftX,this.right_1.x=this._minRightX,this.right_2.x=this._minRightX},e.prototype._setPos=function(){this.left_1.y=0,this.left_2.y=this.left_2.height,this.right_1.y=0,this.right_2.y=this.right_2.height},e.prototype.move=function(t){void 0===t&&(t=1),this.node.stopAllActions();var e=-this._model.dropSpeed,o=t*this._model.moveSpeed,i=o,r=o;this.left_1.x+i>=this._maxLeftX?i=this._maxLeftX-this.left_1.x:this.left_1.x+i<=this._minLeftX&&(i=this._minLeftX-this.left_1.x),this.right_1.x+r>=this._maxRightX?r=this._maxRightX-this.right_1.x:this.right_1.x+r<=this._minRightX&&(r=this._minRightX-this.right_1.x);var n=cc.callFunc(this._connectBg,this),s=cc.targetedAction(this.left_1,cc.moveBy(.7,i,e)),c=cc.targetedAction(this.left_2,cc.moveBy(.7,i,e)),h=cc.targetedAction(this.right_1,cc.moveBy(.7,r,e)),l=cc.targetedAction(this.right_2,cc.moveBy(.7,r,e)),p=cc.sequence(cc.spawn(s,c,l,h),n);this.node.runAction(p)},e.prototype._connectBg=function(){this.left_1.y<=-this.left_1.height&&(this.left_1.y=this.left_1.height+this.left_2.y),this.left_2.y<=-this.left_2.height&&(this.left_2.y=this.left_2.height+this.left_1.y),this.right_1.y<=-this.right_1.height&&(this.right_1.y=this.right_1.height+this.right_2.y),this.right_2.y<=-this.right_2.height&&(this.right_2.y=this.right_2.height+this.right_1.y)},e.prototype.update=function(){},r([h(cc.Node)],e.prototype,"left_1",void 0),r([h(cc.Node)],e.prototype,"left_2",void 0),r([h(cc.Node)],e.prototype,"right_1",void 0),r([h(cc.Node)],e.prototype,"right_2",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../Model":"Model"}],MenuPanel:[function(t,e,o){"use strict";cc._RF.push(e,"ea37aUXWXJNyKCEtAt/pXg1","MenuPanel");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,s=n.property,c=n.ccclass,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.view=null,e.mask=null,e.btn_start=null,e._originY=0,e._targetY=-1200,e}return i(e,t),e.prototype.onLoad=function(){this._originY=this.view.y,this._initUI()},e.prototype._initUI=function(){var t=this.mask.getComponent(cc.Graphics);t.roundRect(0,0,this.mask.width,this.mask.height,50),t.fill();var e=this.btn_start.getComponentInChildren(cc.Graphics);e.roundRect(0,0,this.btn_start.width,this.btn_start.height,this.btn_start.height/2),e.stroke()},e.prototype.onStart=function(){console.log("\u70b9\u51fb\u5f00\u59cb\u6e38\u620f"),cc.tween(this.view).by(.3,{y:1e3}).start()},e.prototype.onGameEnd=function(){console.log("\u6e38\u620f\u7ed3\u675f"),cc.tween(this.view).to(.3,{y:this._originY}).start()},r([s(cc.Node)],e.prototype,"view",void 0),r([s(cc.Node)],e.prototype,"mask",void 0),r([s(cc.Node)],e.prototype,"btn_start",void 0),e=r([c],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],Model:[function(t,e,o){"use strict";cc._RF.push(e,"267d5q+y41J8bdVduqVSiPZ","Model");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ui/Stair"),s=cc._decorator,c=s.ccclass,h=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxStairNum=10,e.dropTime=1,e.dropSpeed=40,e.moveSpeed=5,e.stairPrefab=null,e._p=[],e.blockProportion=[],e._dArr=[],e._bArr=[],e}return i(e,t),e.prototype._initProportion=function(){for(var t=this.blockProportion,e=t.length,o=[],i=0;i<e;i++)for(var r=Math.floor(10*t[i]);r>0;r--)o.push(i);this._p=o},e.prototype.getStepX=function(){return this.stairPrefab.data.width/2},e.prototype.getStepY=function(){return this.stairPrefab.data.height-26},e.prototype.createStair=function(t){void 0===t&&(t=!1),this._pool||(this._pool=new cc.NodePool(n.default));var e=n.EStairType.NONE;t&&(e=this.getRandomBlockType());var o=this._pool.get();return o||(o=cc.instantiate(this.stairPrefab)),o.getComponent(n.default).stairType=e,o},e.prototype.recycleStair=function(t){t.getComponent(n.default).stairType=n.EStairType.NONE,this._pool.put(t)},e.prototype.getFirstDirection=function(){return this._dArr.length&&this._dArr[0]},e.prototype.getFirstBlockDirection=function(){return this._bArr.length&&this._bArr[0]},e.prototype.getLastBlockDirection=function(){return this._bArr.length&&this._bArr[this._bArr.length-1]},e.prototype.addNext=function(){var t=Math.random()<.5?-1:1;return this._dArr.push(t),this._bArr.push(this._getRandomBlockIndex()),t},e.prototype.removeFirst=function(){this._dArr.length&&this._dArr.shift(),this._bArr.length&&this._bArr.shift()},e.prototype._getRandomBlockIndex=function(){this._p.length||this._initProportion();var t=Math.floor(Math.random()*this._p.length);return this._p[t]},e.prototype.getRandomBlockType=function(){return Math.ceil(5*Math.random())},e.prototype.checkDirection=function(t){return this._dArr.length&&this._dArr[0]==t},e.prototype.checkIsBlock=function(){return this._bArr.length&&1==this._bArr[0]},e.prototype.checkPlayerDrop=function(){return this._dArr.length<this.maxStairNum},e.prototype.reset=function(){this._dArr.length=0,this._bArr.length=0},r([h],e.prototype,"maxStairNum",void 0),r([h],e.prototype,"dropTime",void 0),r([h],e.prototype,"dropSpeed",void 0),r([h],e.prototype,"moveSpeed",void 0),r([h(cc.Prefab)],e.prototype,"stairPrefab",void 0),r([h([cc.Float])],e.prototype,"blockProportion",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./ui/Stair":"Stair"}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"db2f6Boz7NLUp6xPrVQPSjX","Player");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var n,s=cc._decorator,c=s.ccclass,h=s.property;(function(t){t.WALK="player_walk",t.JUMP="player_jump"})(n||(n={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.view=null,e._animation=null,e._direction=0,e._isFall=!1,e}return i(e,t),e.prototype.onLoad=function(){this._model=cc.find("Game/Model").getComponent("Model"),this._stepX=this._model.getStepX(),this._stepY=this._model.getStepY(),this.view.zIndex=100,this._animation=this.view.getComponent(cc.Animation),this._animation.on("finished",this._onJumpCompleted,this)},e.prototype.onStart=function(){this.view.x=0,this.view.y=0,this.view.zIndex=100},e.prototype.onEnd=function(){this._animation.getAnimationState(n.WALK).stop()},e.prototype.move=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=!1),this._isFall=o,this._turnDirection(t),this._jump(),e||this.view.runAction(cc.moveBy(.2,this._stepX*t,this._stepY))},e.prototype._jump=function(){this._animation.play(n.JUMP)},e.prototype.fall=function(){this.view.runAction(cc.moveBy(.4,0,-700))},e.prototype._onJumpCompleted=function(t,e){e.name===n.JUMP&&(this._isFall?this.fall():this._animation.play(n.WALK))},e.prototype._turnDirection=function(t){isNaN(t)||t!=this._direction&&(this._direction=t,this.view.scaleX=-t)},r([h(cc.Node)],e.prototype,"view",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Stair:[function(t,e,o){"use strict";cc._RF.push(e,"26eb7WtYyJNBJp9hZE+pkNt","Stair");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var n,s=cc._decorator,c=s.ccclass,h=s.property;(function(t){t[t.NONE=0]="NONE",t[t.MOCK=1]="MOCK",t[t.BOMB=2]="BOMB",t[t.DIAMOND=3]="DIAMOND",t[t.MUSHROOM=4]="MUSHROOM",t[t.STONE=5]="STONE"})(n=o.EStairType||(o.EStairType={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.block=null,e._floorType=-1,e.blockFrameList=[],e}return i(e,t),Object.defineProperty(e.prototype,"stairType",{get:function(){return this._floorType},set:function(t){isNaN(t)||this._floorType!=t&&(t=Math.max(Math.min(t,n.STONE),n.NONE),this._floorType=t,this._changeType())},enumerable:!0,configurable:!0}),e.prototype._changeType=function(){this.block.getComponent(cc.Sprite).spriteFrame=this.blockFrameList[this._floorType]},e.prototype.drop=function(t,e,o){var i=cc.moveTo(.3,t,e),r=cc.callFunc(o||function(){});this.node.runAction(cc.sequence(i,r))},e.prototype.fall=function(t){var e=cc.moveBy(.3,0,-400),o=cc.callFunc(t||function(){});this.node.runAction(cc.sequence(e,o))},r([h(cc.Node)],e.prototype,"block",void 0),r([h],e.prototype,"_floorType",void 0),r([h],e.prototype,"stairType",null),r([h([cc.SpriteFrame])],e.prototype,"blockFrameList",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}]},{},["Game","Model","Floor","Leaves","MenuPanel","Player","Stair"]);